<footer class="bg-slate-900 text-slate-300 py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid md:grid-cols-3 gap-12 mb-12">
      
      <div class="col-span-1 md:col-span-2">
        <div class="flex items-center gap-2 mb-6 text-white">
          <div class="w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center">
            {{ partial "icons/heart-handshake.html" }}
          </div>
          <span class="text-xl font-bold">{{ .Site.Title }}</span>
        </div>
        <p class="mb-8 max-w-sm text-slate-400">
          {{ .Site.Params.description }}
        </p>
        <div class="flex gap-4">
          <a href="{{ .Site.Params.socials.facebook }}" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-primary-600 hover:text-white transition-all">
            {{ partial "icons/facebook.html" }}
          </a>
          <a href="{{ .Site.Params.socials.twitter }}" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-primary-600 hover:text-white transition-all">
            {{ partial "icons/twitter.html" }}
          </a>
          <a href="{{ .Site.Params.socials.instagram }}" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-primary-600 hover:text-white transition-all">
            {{ partial "icons/instagram.html" }}
          </a>
          <a href="{{ .Site.Params.socials.linkedin }}" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-primary-600 hover:text-white transition-all">
            {{ partial "icons/linkedin.html" }}
          </a>
        </div>
      </div>

      <div>
        <h4 class="text-white font-bold mb-6">Newsletter</h4>
        <p class="text-sm mb-4 text-slate-400">Join 50k+ parents getting weekly tips.</p>
        <form id="newsletter-form" class="flex flex-col gap-3">
          <input
            id="newsletter-email"
            type="email"
            placeholder="Enter your email"
            required
            class="bg-slate-800 border-none rounded-lg px-4 py-3 text-sm text-white focus:ring-2 focus:ring-primary-500 outline-none"
          />
          <button type="submit" id="newsletter-btn" class="inline-flex items-center justify-center gap-2 font-semibold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-600/20 hover:shadow-primary-600/40 focus:ring-primary-500 px-4 py-2 text-sm">
            Subscribe
          </button>
        </form>
        <p id="newsletter-msg" class="text-sm mt-3 hidden"></p>
        <script>
          document.getElementById('newsletter-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const email = document.getElementById('newsletter-email').value;
            const btn = document.getElementById('newsletter-btn');
            const msg = document.getElementById('newsletter-msg');
            btn.disabled = true;
            btn.textContent = 'Subscribing...';
            msg.classList.add('hidden');
            try {
              const res = await fetch('https://connect.mailerlite.com/api/subscribers', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Authorization': 'Bearer {{ .Site.Params.mailerlite.apiKey }}'
                },
                body: JSON.stringify({
                  email: email,
                  groups: ['{{ .Site.Params.mailerlite.groupId }}']
                })
              });
              if (res.ok || res.status === 200 || res.status === 201) {
                msg.textContent = 'Thanks for subscribing!';
                msg.className = 'text-sm mt-3 text-green-400';
                document.getElementById('newsletter-email').value = '';
              } else {
                const data = await res.json();
                msg.textContent = data.message || 'Something went wrong. Please try again.';
                msg.className = 'text-sm mt-3 text-red-400';
              }
            } catch (err) {
              msg.textContent = 'Network error. Please try again.';
              msg.className = 'text-sm mt-3 text-red-400';
            }
            btn.disabled = false;
            btn.textContent = 'Subscribe';
          });
        </script>
      </div>
    </div>

    <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-500">
      <p>&copy; {{ now.Year }} {{ .Site.Title }}. All rights reserved.</p>
      <div class="flex gap-6 mt-4 md:mt-0">
        <a href="#" class="hover:text-white">Terms</a>
        <a href="#" class="hover:text-white">Privacy</a>
        <a href="#" class="hover:text-white">Cookies</a>
      </div>
    </div>
  </div>
</footer>
