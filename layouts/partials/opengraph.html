{{- $title := .Title | default .Site.Title -}}
{{- $description := .Params.description | default .Site.Params.description -}}
{{- $image := "" -}}
{{- with .Params.titleImage -}}
  {{- $image = . | absURL -}}
{{- else -}}
  {{- with .Params.image -}}
    {{- $image = . | absURL -}}
  {{- else -}}
    {{- with $.Site.Params.logo -}}
      {{- $image = . | absURL -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="{{ $title }}" />
<meta property="og:description" content="{{ $description }}" />
<meta property="og:url" content="{{ .Permalink }}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
<meta property="og:locale" content="{{ .Site.LanguageCode | default "en_US" }}" />
{{- if .IsPage }}
<meta property="og:type" content="article" />
<meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" />
<meta property="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}" />
{{- with .Params.author }}
<meta property="article:author" content="{{ .name }}" />
{{- end }}
{{- with .Params.categories }}
{{- range . }}
<meta property="article:section" content="{{ . }}" />
{{- end }}
{{- end }}
{{- with .Params.tags }}
{{- range . }}
<meta property="article:tag" content="{{ . }}" />
{{- end }}
{{- end }}
{{- else }}
<meta property="og:type" content="website" />
{{- end }}
{{- with $image }}
<meta property="og:image" content="{{ . }}" />
<meta property="og:image:alt" content="{{ $title }}" />
{{- end }}

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="{{ if $image }}summary_large_image{{ else }}summary{{ end }}" />
<meta name="twitter:title" content="{{ $title }}" />
<meta name="twitter:description" content="{{ $description }}" />
{{- with $image }}
<meta name="twitter:image" content="{{ . }}" />
{{- end }}
{{- with .Site.Params.socials.twitter }}
{{- if ne . "#" }}
<meta name="twitter:site" content="@{{ . | replaceRE "https?://(www\\.)?twitter\\.com/" "" | replaceRE "https?://(www\\.)?x\\.com/" "" }}" />
{{- end }}
{{- end }}
