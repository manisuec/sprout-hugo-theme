<nav
  x-data="{ isOpen: false, isScrolled: false }"
  x-init="
    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        requestAnimationFrame(() => {
          isScrolled = window.scrollY > 20;
          ticking = false;
        });
        ticking = true;
      }
    }, { passive: true })
  "
  :class="isScrolled ? 'bg-white/90 backdrop-blur-md shadow-sm' : 'bg-transparent'"
  class="fixed w-full z-50 transition-all duration-300 py-4"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <a href="{{ .Site.BaseURL }}" class="flex items-center gap-2 group">
        <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center shadow-lg shadow-primary-500/20 group-hover:scale-110 transition-transform duration-300">
          <img src="{{ .Site.Params.logo }}" alt="Logo" class="w-10 h-10 object-cover rounded-lg" width="40" height="40">
        </div>
        <span class="text-xl font-bold tracking-tight" :class="isScrolled ? 'text-slate-900' : 'text-slate-800'">
          {{ index (split .Site.Title " ") 0 }}<span class="text-primary-600">{{ index (split .Site.Title " ") 1 }}</span>
        </span>
      </a>

      <!-- Desktop Nav -->
      <div class="hidden md:flex items-center gap-8">
        <ul class="flex gap-8">
          {{ range .Site.Menus.main }}
            <li>
              <a href="{{ .URL }}" class="text-sm font-medium text-slate-600 hover:text-primary-600 transition-colors">
                {{ .Name }}
              </a>
            </li>
          {{ end }}
        </ul>
      </div>

      <!-- Mobile Menu Button -->
      <button
        class="md:hidden p-2 text-slate-600 hover:text-primary-600"
        @click="isOpen = !isOpen"
        aria-label="Toggle menu"
      >
        <svg x-show="!isOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg x-show="isOpen" x-cloak class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div
    x-show="isOpen"
    x-cloak
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 scale-y-95"
    x-transition:enter-end="opacity-100 scale-y-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 scale-y-100"
    x-transition:leave-end="opacity-0 scale-y-95"
    class="md:hidden absolute top-full left-0 w-full bg-white/95 backdrop-blur-lg border-b border-slate-100 shadow-xl origin-top"
  >
    <div class="px-4 py-6">
      <ul class="flex flex-col gap-4">
        {{ range .Site.Menus.main }}
          <li>
            <a href="{{ .URL }}" class="block text-lg font-medium text-slate-800 hover:text-primary-600" @click="isOpen = false">
              {{ .Name }}
            </a>
          </li>
        {{ end }}
      </ul>
    </div>
  </div>
</nav>

<!-- Alpine.js for interactivity -->
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
